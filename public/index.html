<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Training - Mock Server</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ðŸŽ“ API Training Workshop</h1>
            <p class="subtitle">Learn how REST APIs work by interacting with real data</p>
            <a href="learning.html" target="_blank" rel="noopener noreferrer" class="btn btn-success" style="margin-top: 10px; display: inline-block; text-decoration: none;">ðŸ“š Learning Modules</a>
        </header>

        <div class="info-banner">
            <h3>ðŸ“š What are APIs? <span class="help-icon" data-tooltip="api-intro">?</span></h3>
            <p>APIs (Application Programming Interfaces) allow different applications to communicate. REST APIs use HTTP methods to perform operations on data:</p>
            <ul>
                <li><strong>GET</strong> <span class="help-icon" data-tooltip="http-get">?</span> - Retrieve data from the server</li>
                <li><strong>POST</strong> <span class="help-icon" data-tooltip="http-post">?</span> - Create new data on the server</li>
                <li><strong>PUT</strong> <span class="help-icon" data-tooltip="http-put">?</span> - Update existing data on the server</li>
                <li><strong>DELETE</strong> <span class="help-icon" data-tooltip="http-delete">?</span> - Remove data from the server</li>
            </ul>
        </div>

        <!-- API Endpoint Reference -->
        <div class="endpoints-section">
            <h2>ðŸ“¡ Available Endpoints</h2>
            <div class="endpoints-grid">
                <div class="endpoint-card">
                    <h4>/users</h4>
                    <p>Manage user accounts</p>
                </div>
                <div class="endpoint-card">
                    <h4>/products</h4>
                    <p>Manage product catalog</p>
                </div>
                <div class="endpoint-card">
                    <h4>/orders</h4>
                    <p>Manage customer orders</p>
                </div>
            </div>
        </div>

        <!-- Interactive API Testing Section -->
        <div class="api-tester">
            <h2>ðŸ§ª Try API Requests</h2>
            <div class="request-builder">
                <div class="form-row">
                    <label for="method">HTTP Method: <span class="help-icon" data-tooltip="http-method">?</span></label>
                    <select id="method" class="input-field">
                        <option value="GET">GET - Retrieve Data</option>
                        <option value="POST">POST - Create Data</option>
                        <option value="PUT">PUT - Update Data</option>
                        <option value="DELETE">DELETE - Remove Data</option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="endpoint">Resource Type: <span class="help-icon" data-tooltip="resource-type">?</span></label>
                    <select id="endpoint" class="input-field">
                        <option value="users">Users</option>
                        <option value="products">Products</option>
                        <option value="orders">Orders</option>
                    </select>
                </div>
                <div class="form-row">
                    <label for="endpointUrl">Endpoint URL: <span class="help-icon" data-tooltip="endpoint-url">?</span></label>
                    <input type="text" id="endpointUrl" class="input-field" readonly style="background-color: #f0f0f0;">
                </div>
                <div class="form-row" id="id-row" style="display: none;">
                    <label for="resourceId">Resource ID: <span class="help-icon" data-tooltip="resource-id">?</span></label>
                    <input type="number" id="resourceId" class="input-field" placeholder="e.g., 1">
                </div>
                <div class="form-row" id="body-row" style="display: none;">
                    <label for="requestBody">Request Body (JSON): <span class="help-icon" data-tooltip="request-body">?</span></label>
                    <textarea id="requestBody" class="input-field" rows="8" placeholder='{"name": "value"}'></textarea>
                </div>
                <button id="sendRequest" class="btn btn-primary">Send Request</button>
                <p style="margin-top: 15px; font-size: 0.9em; color: #666;">
                    ðŸ’¡ <a href="/error-example.html" target="_blank" style="color: #667eea;">View examples of valid/invalid requests</a>
                </p>
            </div>

            <div class="response-section">
                <h3>Response <span class="help-icon" data-tooltip="status-code">?</span></h3>
                <div class="response-header">
                    <span id="statusCode" class="status-badge"></span>
                    <span id="responseTime" class="response-time"></span>
                </div>
                <pre id="responseBody" class="response-body">Response will appear here...</pre>
            </div>
        </div>

        <!-- Data Visualization Section -->
        <div class="data-section">
            <div class="data-header">
                <h2>ðŸ’¾ Current Database State</h2>
                <button id="refreshData" class="btn btn-secondary">â†» Refresh Data</button>
            </div>
            
            <!-- Users Table -->
            <div class="table-container">
                <h3>ðŸ‘¥ Users</h3>
                <table id="usersTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Age</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <button onclick="showAddForm('users')" class="btn btn-success">+ Add User</button>
            </div>

            <!-- Products Table -->
            <div class="table-container">
                <h3>ðŸ“¦ Products</h3>
                <table id="productsTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>Category</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <button onclick="showAddForm('products')" class="btn btn-success">+ Add Product</button>
            </div>

            <!-- Orders Table -->
            <div class="table-container">
                <h3>ðŸ›’ Orders</h3>
                <table id="ordersTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>User ID</th>
                            <th>Product ID</th>
                            <th>Quantity</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
                <button onclick="showAddForm('orders')" class="btn btn-success">+ Add Order</button>
            </div>
        </div>

        <!-- Request History Log -->
        <div class="history-section">
            <h2>ðŸ“œ Request History</h2>
            <div id="requestHistory" class="history-log"></div>
        </div>
    </div>

    <!-- Modal for Add/Edit Forms -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle">Add Item</h2>
            <div id="modalForm"></div>
        </div>
    </div>



    <!-- Tooltip Container -->
    <div id="tooltip" class="tooltip" style="display: none;">
        <div class="tooltip-content"></div>
    </div>

    <script src="app.js"></script>
</body>
</html>
